#include <stdio.h>
#include <string.h>

int aaaa, mm, dd, bisiesto;
char mensajeI[71] = "El mes ingresado no puede tener la cantidad de dias que ha colocado.\n\n";

int main(){
	printf("Si el anio es bisiesto coloque ¨1¨ y ¨0¨ si no es bisiesto. \n");
	scanf("%d",&bisiesto);
	printf("Ingrese el anio vigente: \n");
	scanf("%d",&aaaa);
	printf("Ingrese el mes vigente: \n");
	scanf("%d",&mm);
	if(mm < 0 || mm > 12){
		printf("El mes colocado es incorrecto.\n\n");
		return main();
	}

	printf("Ingrese el dia vigente: \n");
	scanf("%d",&dd);

	if(bisiesto == 0 && dd == 29){
	printf("El anio no es bisiesto, por lo que febrero no puede tener 29 dias.\n\n");
	return main();
}

	if((dd == 31) && (mm == 1 || mm == 3 || mm == 5 || mm == 7 || mm == 8 || mm == 10 || mm == 12)){
		mm = mm + 1;
		dd = 1;
	}else{
		if((dd >= 1 && dd < 31) && (mm == 1 || mm == 3 || mm == 5 || mm == 7 || mm == 8 || mm == 10 || mm == 12)){
			mm = mm;
			dd = dd + 1;
		}else{
			if((dd < 1 || dd > 31) && (mm == 1 || mm == 3 || mm == 5 || mm == 7 || mm == 8 || mm == 10 || mm == 12)){
				printf("%s", mensajeI);
				return main();
			}
		}
	}

	if((dd == 30) && (mm == 4 || mm == 6 || mm == 9 || mm == 11)){
		mm = mm + 1;
		dd = 1;
	}else{
		if((dd >= 1 && dd < 30) && (mm == 4 || mm == 6 || mm == 9 || mm == 11)){
			mm = mm;
			dd = dd + 1;
		}else{
			if((dd < 1 || dd > 30) && (mm == 4 || mm == 6 || mm == 9 || mm == 11)){
				printf("%s", mensajeI);
				return main();
			}
		}
	}

	if((dd == 29) && (mm == 2 && bisiesto == 1)){
		mm = mm + 1;
		dd = 1;
	}else{
		if((dd < 29) && (mm == 2 && bisiesto == 1)){
			mm = mm;
			dd = dd + 1;
		}else{
			if((dd < 1 || dd > 29) && (mm == 2 && bisiesto == 1)){
				printf("%s", mensajeI);
				return main();
			}
		}
	}

	if((dd == 28) && (mm == 2 && bisiesto == 0)){
		mm = mm + 1;
		dd = 1;
	}else{
		if((dd < 28) && (mm == 2 && bisiesto == 0)){
			mm = mm;
			dd = dd + 1;
		}else{
			if((dd < 1 || dd > 28) && (mm == 2 && bisiesto == 0)){
				printf("%s", mensajeI);
			}
		}
	}

	if(mm > 12){
		aaaa = aaaa + 1;
		mm = 1;
	}

	printf("%d %d %d\n", aaaa, mm, dd);
	return 0;
}
