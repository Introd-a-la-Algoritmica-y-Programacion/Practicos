#include <stdio.h>

struct tarjeta{
	char apellidoNombre[100];
	float montoCompra;
	float esContado;
	float interTarj;
}tarjeta1;

int ObtenerDatos(struct tarjeta t1);
int PagoContado(struct tarjeta t1);
int IdentificarTarj(struct tarjeta t1);
int PagoTarjeta(struct tarjeta t1);
int MostrarMonto(struct tarjeta t1);

int main(){
	ObtenerDatos(tarjeta1);
	if(tarjeta1.esContado == 1){
		PagoContado(tarjeta1);
	}else{
		IdentificarTarj(tarjeta1);
		PagoTarjeta(tarjeta1);
	}
	MostrarMonto(tarjeta1);
	return 0;
}

int ObtenerDatos(struct tarjeta t1){
	printf("\nIngrese nombre y apellido: ");
	fgets(tarjeta1.apellidoNombre,100,stdin);
	do{
	printf("Ingrese el monto a pagar: ");
	scanf("%f",&tarjeta1.montoCompra);
	}while(tarjeta1.montoCompra <= 0);
	do{
	printf("Ingrese '1' si la compra es de contado y '2' si es con credito: ");
	scanf("%f",&tarjeta1.esContado);
	}while(tarjeta1.esContado != 1 && tarjeta1.esContado != 2);
}

int PagoContado(struct tarjeta t1){
	if(tarjeta1.montoCompra >= 1000){
		tarjeta1.montoCompra = tarjeta1.montoCompra * 0.85;
	}else{
		tarjeta1.montoCompra = tarjeta1.montoCompra * 0.90;
	}
}

int IdentificarTarj(struct tarjeta t1){
float opcion;
	printf("\n");
	printf("Â¿Que tarjeta utilizara?\n");
	printf("1.Master\n");
	printf("2.Visa\n");
	printf("3.Cabal\n");
	printf("4.Cordobesa\n");
	scanf("%f",&opcion);
	while(opcion != 1 && opcion != 2 && opcion != 3 && opcion != 4){
		printf("Error, ingrese nuevamente: ");
		scanf("%f",&opcion);
	}
	if(opcion == 1){
		tarjeta1.interTarj = 10;
	}else{
		if(opcion == 2){
			tarjeta1.interTarj = 5;
		}else{
			if(opcion == 3){
				tarjeta1.interTarj = 15;
			}else{
				if(opcion == 4){
					tarjeta1.interTarj = 3;
				}
			}
		}
	}
}

int PagoTarjeta(struct tarjeta t1){
	tarjeta1.montoCompra = tarjeta1.montoCompra + (tarjeta1.montoCompra * (tarjeta1.interTarj/100));
}

int MostrarMonto(struct tarjeta t1){
	printf("\n%sDebe pagar: %.2f\n\n",tarjeta1.apellidoNombre, tarjeta1.montoCompra);
}
